# 発表当日の手順：order.jsonで発表順を反映する方法

## 方法1：リポジトリに追加して自動反映（推奨）

この方法では、`order.json`をリポジトリに追加することで、GitHub Pagesに自動的に反映されます。一度設定すれば、誰でも最新の発表順を確認できます。

### 手順

1. **order.jsonファイルを準備**
   - 発表順を確定した後、ダウンロードされた`order.json`ファイルを用意します
   - ファイル名が`order_.json`の場合は、`order.json`にリネームしてください

2. **リポジトリに追加**
   ```bash
   # リポジトリのルートディレクトリにorder.jsonを配置
   # その後、以下のコマンドを実行
   git add order.json
   git commit -m "発表順を確定（order.jsonを追加）"
   git push origin main
   ```

3. **GitHub Pagesの自動更新を待つ**
   - GitHub Actionsが自動的にデプロイを実行します
   - 「Actions」タブで進行状況を確認できます
   - 通常、数分で完了します

4. **ウェブページを確認**
   - `https://takawo.github.io/cms-presentation-2025/` にアクセス
   - ページを再読み込み（F5キーまたはCmd+R / Ctrl+R）
   - 確定された発表順がスケジュール表示で表示されます

### メリット
- 一度設定すれば、誰でも最新の発表順を確認できる
- ページを開いただけで自動的に確定順が表示される
- 複数のデバイスから同じ発表順を確認できる

---

## 方法2：ローカルで手動読み込み（その場で即座に反映）

この方法では、GitHub Pagesのページから直接`order.json`を読み込みます。リポジトリへの追加は不要です。

### 手順

1. **GitHub Pagesのページを開く**
   - `https://takawo.github.io/cms-presentation-2025/` にアクセス

2. **JSONファイルを読み込む**
   - ページ上部の「JSONファイルを読み込む」ボタンをクリック
   - 確定した`order.json`ファイルを選択

3. **確定順が表示される**
   - ファイルを選択すると、即座に確定された発表順がスケジュール表示で表示されます
   - 「JSONファイルから確定状態を読み込みました。」というメッセージが表示されます

### メリット
- リポジトリへの追加が不要
- その場で即座に反映される
- 複数の`order.json`を試すことができる

### 注意点
- ページを再読み込みすると、読み込んだ順序は消えます
- 他の人がアクセスしても、同じ順序は表示されません（各自で読み込む必要がある）

---

## order.jsonファイルの形式

`order.json`は以下の形式である必要があります：

```json
{
  "isConfirmed": true,
  "order": [0, 1, 2, 3, 4, 5, 6, 7, 8],
  "timestamp": "2025-12-06T14:50:39.497Z"
}
```

- `isConfirmed`: `true`である必要があります
- `order`: 発表順を表す配列（各グループの元のインデックス）
- `timestamp`: 確定日時（任意）

---

## トラブルシューティング

### order.jsonを読み込んでも反映されない場合

1. **ファイル形式を確認**
   - JSONファイルが正しい形式か確認してください
   - `isConfirmed`が`true`になっているか確認してください

2. **ブラウザのコンソールを確認**
   - ブラウザの開発者ツール（F12キー）を開く
   - 「Console」タブでエラーメッセージを確認

3. **ページを再読み込み**
   - ページを再読み込み（F5キー）してから再度試してください

### GitHub Pagesに反映されない場合

1. **Actionsタブを確認**
   - GitHubの「Actions」タブでデプロイが成功しているか確認
   - エラーがある場合は、エラーメッセージを確認

2. **キャッシュをクリア**
   - ブラウザのキャッシュをクリア（Cmd+Shift+R / Ctrl+Shift+R）
   - または、シークレットモードでアクセス

---

## 推奨される運用方法

発表当日は、**方法1（リポジトリに追加）**を推奨します：

1. 発表順を確定したら、すぐに`order.json`をリポジトリに追加
2. GitHub Pagesに自動反映されるのを待つ（数分）
3. 学生や関係者にURLを共有
4. 全員が同じ発表順を確認できる

これにより、混乱を避け、スムーズに発表会を進行できます。



